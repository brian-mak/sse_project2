<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Plan Preferences</title>
    <style>
        html, header {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font-family: 'Roboto', sans-serif;
            color: white;
            text-decoration: none;
            position: relative;
            background-image: url("{{ url_for('static', filename='background4.png') }}");
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
            color: #fff;
            cursor: default;
            height: 100vh
        }
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(rgba(0, 0, 0, 1), rgba(0, 0, 0, 0)); /* Gradient from solid black to transparent */
            pointer-events: none; /* Allows clicks to pass through to elements underneath */
            z-index: -1;
        }
        body {
            margin: 0;
            padding: 8em 500px;
            font-size: 150%
        }
        #navigation, #username {
            background-color: black;
            color: white;
            width: 100%;
            position: fixed; /* Change this from absolute to fixed */
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem; /* Adjusted font size for small navigation links */
            font-weight: normal;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.3rem;
            white-space: nowrap;
            padding: 10px 10px 30px 10px;
            z-index: 1000;
        }
        #navigation a {
            color: white; /* Or any color you prefer */
            text-decoration: none; /* Optional: Removes the underline from links */
            margin: 0 10px; /* Adds space to the left and right of each link */
        }
        /* Submit Button */
        input[type="submit"]{
            position: relative;
            display: inline-block;
            background: #df7366;
            color: #fff;
            text-align: center;
            border-radius: 1.5em;
            text-decoration: none;
            padding: 0.65em 1.5em 0.65em 1.5em;
            border: 0;
            cursor: pointer;
            outline: 0;
            font-weight: 500;
            font-size: x-large;
            -moz-transition: background-color 0.35s ease-in-out, color 0.35s ease-in-out, border-bottom-color 0.35s ease-in-out;
            -webkit-transition: background-color 0.35s ease-in-out, color 0.35s ease-in-out, border-bottom-color 0.35s ease-in-out;
            -ms-transition: background-color 0.35s ease-in-out, color 0.35s ease-in-out, border-bottom-color 0.35s ease-in-out;
            transition: background-color 0.35s ease-in-out, color 0.35s ease-in-out, border-bottom-color 0.35s ease-in-out;
        }
        input[type="checkbox"] {
            transform: scale(1.5); /* Increase the size of the checkboxes */
            margin-right: 5px; /* Add some space between the checkboxes and labels */
        }

        /* Adjust the size of the labels */
        label {
            vertical-align: middle; /* Align the labels vertically with the checkboxes */
        }
        /* #username {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 0.8rem;
            font-weight: normal;
            text-transform: uppercase;
            letter-spacing: 0.3rem;
            white-space: nowrap;
            color: white;
            text-decoration: none;
            cursor: pointer;
            text-align: right;
        } */

    </style>
</head>
<body>
    <div id="navigation">
        <center><img src="{{ url_for('static', filename='Logo.png')
        }}" alt="Workout Buddy Logo" width="400" height = "100"></center>
        <a href="/">Home</a>
        <!-- <a href="#about">About</a> -->
        <a href="/meal_planner">Nutrition</a>
        <a href="/search_exercises">Search For Workouts</a>
        <a href="/db/workout_plan">Workout Planner</a>    
        <a href="/forum">Forum</a>
        <a href="/saved_lists">My Workout Lists</a>
        {% if session %}
        <a href="/logout">Logout</a>
        <br><br>Welcome {{ session.user.userinfo.nickname }}
        {% else %}
        <a id href="/login">Login</a>
        {% endif %}
    </div>

<!-- Header -->
<div id="header">
    <center><h2>Search For Workouts</h2></center>
    <form id="preferencesForm" method="POST" action="/exercises">        
        <!-- Available Equipment (Checkboxes) -->
        <fieldset>
            <legend>Available Equipment:</legend>
            <input type="checkbox" id="body_weight" name="equipment" value="body_weight">
            <label for="body_weight">None (Bodyweight Exercises)</label><br>
            <input type="checkbox" id="band" name="equipment" value="band">
            <label for="band">Band</label><br>
            <input type="checkbox" id="barbell" name="equipment" value="barbell">
            <label for="barbell">Barbell</label><br>
            <input type="checkbox" id="bosu_ball" name="equipment" value="bosu_ball">
            <label for="bosu_ball">Bosu Ball</label><br>
            <input type="checkbox" id="cable" name="equipment" value="cable">
            <label for="cable">Cable</label><br>
            <input type="checkbox" id="dumbbell" name="equipment" value="dumbbell">
            <label for="dumbbell">Dumbbell</label><br>
            <input type="checkbox" id="ez_barbell" name="equipment" value="ez_barbell">
            <label for="ez_barbell">EZ Barbell</label><br>
            <input type="checkbox" id="hammer" name="equipment" value="hammer">
            <label for="hammer">Hammer</label><br>  
            <input type="checkbox" id="kettlebell" name="equipment" value="kettlebell">
            <label for="kettlebell">Kettlebell</label><br>
            <input type="checkbox" id="leverage_machine" name="equipment" value="leverage_machine">
            <label for="leverage_machine">Leverage Machine</label><br>         
            <input type="checkbox" id="medicine_ball" name="equipment" value="medicine_ball">
            <label for="medicine_ball">Medicine Ball</label><br>
            <input type="checkbox" id="olympic_barbell" name="equipment" value="olympic_barbell">
            <label for="olympic_barbell">Olympic Barbell</label><br>
            <input type="checkbox" id="resistance_band" name="equipment" value="resistance_band">
            <label for="resistance_band">Resistance Band</label><br>
            <input type="checkbox" id="roller" name="equipment" value="roller">
            <label for="roller">Roller</label><br>
            <input type="checkbox" id="rope" name="equipment" value="rope">
            <label for="rope">Rope</label><br>
            <input type="checkbox" id="skierg_machine" name="equipment" value="skierg_machine">
            <label for="skierg_machine">Skierg Machine</label><br>
            <input type="checkbox" id="sled_machine" name="equipment" value="sled_machine">
            <label for="sled_machine">Sled Machine</label><br>
            <input type="checkbox" id="smith_machine" name="equipment" value="smith_machine">
            <label for="smith_machine">Smith Machine</label><br>
            <input type="checkbox" id="stability_ball" name="equipment" value="stability_ball">
            <label for="stability_ball">Stability Ball</label><br>
            <input type="checkbox" id="wheel_roller" name="equipment" value="wheel_roller">
            <label for="wheel_roller">Wheel Roller</label><br>          
        </fieldset><br>

        <!-- Target Muscle Groups (Checkboxes) -->
        <fieldset>
            <legend>Target Muscle Groups:</legend>
            <input type="checkbox" id="full_body" name="muscleGroups" value="full_body">
            <label for="full_body">Full Body</label><br>
            <input type="checkbox" id="upper_body" name="muscleGroups" value="upper_body">
            <label for="upper_body">Upper Body - General</label><br>
            <input type="checkbox" id="chest" name="muscleGroups" value="chest">
            <label for="chest">Chest</label><br>
            <input type="checkbox" id="back" name="muscleGroups" value="back">
            <label for="back">Back</label><br>
            <input type="checkbox" id="shoulders" name="muscleGroups" value="shoulders">
            <label for="shoulders">Shoulders</label><br>
            <input type="checkbox" id="biceps" name="muscleGroups" value="biceps">
            <label for="biceps">Biceps</label><br>
            <input type="checkbox" id="triceps" name="muscleGroups" value="triceps">
            <label for="triceps">Triceps</label><br>
            <input type="checkbox" id="forearms" name="muscleGroups" value="forearms">
            <label for="forearms">Forearms</label><br>            
            <input type="checkbox" id="lower_body" name="muscleGroups" value="lower_body">
            <label for="lower_body">Lower Body - General</label><br>
            <input type="checkbox" id="quads" name="muscleGroups" value="quads">
            <label for="quads">Quads</label><br>
            <input type="checkbox" id="hamstrings" name="muscleGroups" value="hamstrings">
            <label for="hamstrings">Hamstrings</label><br>          
            <input type="checkbox" id="calves" name="muscleGroups" value="calves">
            <label for="calves">Calves</label><br>
            <input type="checkbox" id="glutes" name="muscleGroups" value="glutes">
            <label for="glutes">Glutes</label><br>
            <input type="checkbox" id="hips" name="muscleGroups" value="hips">
            <label for="hips">Hips</label><br>        
            <input type="checkbox" id="abs" name="muscleGroups" value="abs">
            <label for="abs">Abs</label><br>
            <input type="checkbox" id="cardio" name="muscleGroups" value="cardio">
            <label for="cardio">Cardio</label><br>
        </fieldset><br>
        <input type="submit" value="Submit">
    </form>
</body>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        const muscleGroups = document.querySelectorAll('input[name="muscleGroups"]');
        const equipmentCheckboxes = document.querySelectorAll('input[name="equipment"]');

        function updateMuscleGroupCheckboxes() {
            const fullBody = document.getElementById('full_body').checked;
            const upperBody = document.getElementById('upper_body').checked;
            const lowerBody = document.getElementById('lower_body').checked;

            muscleGroups.forEach((checkbox) => {
                if (fullBody) {
                    if (checkbox.value !== "full_body" && checkbox.value !== "abs" && checkbox.value !== "cardio") {
                        checkbox.checked = false;
                        checkbox.disabled = true;
                    } else {
                        checkbox.disabled = false;
                    }
                } else if (upperBody) {
                    if (["chest", "back", "shoulders", "biceps", "triceps", "forearms"].includes(checkbox.value)) {
                        checkbox.checked = false;
                        checkbox.disabled = true;
                    } else {
                        checkbox.disabled = false;
                    }
                } else if (lowerBody) {
                    if (["quads", "hamstrings", "calves", "glutes", "hips"].includes(checkbox.value)) {
                        checkbox.checked = false;
                        checkbox.disabled = true;
                    } else {
                        checkbox.disabled = false;
                    }
                } else {
                    checkbox.disabled = false;
                }
            });
        }

        muscleGroups.forEach((checkbox) => {
            checkbox.addEventListener('change', updateMuscleGroupCheckboxes);
        });

        // Add validation to ensure at least one checkbox is selected for muscle groups and equipment
        document.getElementById('preferencesForm').addEventListener('submit', function(event) {
            const selectedMuscleGroups = Array.from(muscleGroups).some(checkbox => checkbox.checked);
            const selectedEquipment = Array.from(equipmentCheckboxes).some(checkbox => checkbox.checked);

            if (!selectedMuscleGroups || !selectedEquipment) {
                alert("Please select at least one option for both Target Muscle Groups and Available Equipment.");
                event.preventDefault(); // Prevent form submission
            }
        });
    });
</script>
</html>
